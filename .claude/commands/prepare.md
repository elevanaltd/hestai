# PREPARE Command - Constitutional Context Protocol

## üö® CONSTITUTIONAL ENFORCEMENT
**MANDATORY**: Direct reading of constitutional documents before ANY workflow. No delegation for North Star or PROJECT-CONTEXT.

**PURPOSE**: Establish unfiltered constitutional understanding PLUS efficient parallel discovery through specialized agents.

## BALANCED EXECUTION PROTOCOL (MIP-Optimized)

### PHASE 0: CONSTITUTIONAL DIRECT READ [BLOCKING]
```
1. READ /coordination/workflow-docs/000-*-NORTH-STAR.md (FULL TEXT, NO DELEGATION)
2. READ /coordination/PROJECT-CONTEXT.md (FULL TEXT, NO DELEGATION)  
3. DETECT current phase from /coordination/workflow-docs/ artifacts
```

**ANTI-DELEGATION CLAUSE**: North Star and PROJECT-CONTEXT must be read directly by executing agent. These establish constitutional baseline.

### PHASE 1: PARALLEL DISCOVERY [Via Specialized Agents]
```
SPAWN PARALLEL INVESTIGATIONS:

research-analyst:
  - Discover implementation patterns in src/
  - Map test files and frameworks
  - Identify dependencies and configurations
  - Trace integration points and interfaces

coherence-oracle:
  - Detect cross-boundary gaps
  - Identify missing critical context
  - Predict systemic failure patterns
  - Flag architectural inconsistencies

test-methodology-guardian (if test-heavy workflow):
  - Analyze testing patterns and coverage
  - Identify test manipulation risks
  - Validate TDD discipline requirements
```

**VALUE**: 60-80% context reduction vs direct reading all files

### PHASE 2: SYNTHESIS & GAP IDENTIFICATION
```
SYNTHESIZE agent findings
IDENTIFY only BLOCKING gaps that prevent workflow
SKIP non-essential concerns (handle during workflow)
```

### OUTPUT: BINARY STATUS
```
READY: Constitutional docs read, phase detected, context mapped, no blocking gaps
BLOCKED: Specify exact blocking gap requiring human input
```

## EXECUTION STEPS

1. **READ** constitutional documents directly (North Star, PROJECT-CONTEXT)
2. **DETECT** phase from artifacts in coordination folder
3. **SPAWN** parallel agent investigations for discovery
4. **SYNTHESIZE** findings from all agents
5. **IDENTIFY** blocking gaps only
6. **REPORT** binary READY/BLOCKED status

## USAGE

```bash
/prepare                    # Default: current directory
/prepare src/               # Specific directory focus
/prepare --workflow test    # Optimize agents for test workflow
/prepare --strict           # Require explicit confirmation
```

## AGENT VALUE PROPOSITION

| Agent | Reduces Context By | Provides |
|-------|-------------------|----------|
| research-analyst | 70% file reading | Pattern discovery, dependency mapping |
| coherence-oracle | 60% gap analysis | Cross-boundary detection, prophecy |
| test-methodology-guardian | 80% test analysis | Framework detection, anti-pattern alerts |

## SUCCESS CRITERIA

‚úÖ **READY**: 
- North Star directly read and understood
- PROJECT-CONTEXT absorbed for lessons learned
- Phase clearly detected from artifacts
- Implementation context mapped via agents
- No blocking gaps identified

‚ùå **BLOCKED**: 
- Missing constitutional documents
- Unclear phase detection
- Critical technical gap identified by agents
- Conflicting requirements detected

## CRITICAL RULES

**MANDATORY**:
- Direct reading of North Star and PROJECT-CONTEXT (no delegation)
- Parallel agent execution for discovery
- Phase detection from artifacts not user claims
- Binary READY/BLOCKED output

**FORBIDDEN**:
- Delegating constitutional document reading
- Sequential agent execution (use parallel)
- Analysis paralysis (focus on blocking gaps only)
- Proceeding without constitutional understanding

## WHY THIS BALANCE WORKS

**Constitutional Integrity**: Direct reading ensures unfiltered understanding of requirements and lessons
**Context Efficiency**: Agents reduce token consumption by 60-80% during discovery
**Parallel Execution**: Multiple specialized investigations run simultaneously
**Domain Expertise**: Each agent applies their specialized pattern recognition
**MIP Compliance**: Removes coordination theater while preserving essential discovery